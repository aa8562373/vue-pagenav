/**
 * vue-pagenav
 * @version v1.3.1 - 2016-07-09
 * @link http://html5beta.com/apps/vue-pagenav.html
 * @author ZHAO Xudong (zxdong@gmail.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=exports["default"]=t():e.zPagenav=t()}(this,function(){var e={"default":{page:1,pageSize:10,total:0,prevHtml:"«",nextHtml:"»",prevSrHtml:"Previous",nextSrHtml:"Next",dotsHtml:"...",eventName:"page-change",template:'<nav class="zpagenav" ><span class="pagination page-link m-r-1">total:{{total}}</span><ul class="pagination"><li track-by="$index" v-for="unit in units" class="page-item {{unit.class}}" :disabled="unit.disabled"><a @click="setPage(unit.page)" class="page-link" :href="setUrl(unit)" aria-label="{{unit.ariaLabel}}"><span v-if="unit.isPager" aria-hidden="true">{{{unit.html}}}</span><span v-else>{{{unit.html}}}</span><span v-if="unit.isPager" class="sr-only">{{{unit.srHtml}}}</span></a></li></ul></nav>'}};return e.install=function(t){t.component("zpagenav",{template:e["default"].template,props:{page:Number,total:Number,pageSize:Number,maxLink:Number,eventName:String,pageHandler:Function,createUrl:Function},methods:{setPage:function(t){return console.log(t,"ll"),t===this.page?!1:void(this.pageHandler?this.pageHandler(t):this.$dispatch&&this.$dispatch(this.eventName||e["default"].eventName,t))},setUrl:function(e){return this.createUrl?this.createUrl(e):e.page>1?"#page="+e.page:""}},computed:{units:function(){function t(e){"number"==typeof e?c.push({page:e,isPrev:!1,isPager:!1,disabled:!1,"class":e===n?"active":"",isNext:!1,html:e}):c.push(h)}function a(){var e=Math.floor((m-2)/2),t=m-3-e,a=n-e,s=n+t;2>a?a=2:s>o&&(a=o-(m-2));var i=[1];a>2&&i.push("dot");for(var l,r=0,p=1>m-2?m-1:m-2;p>r;r++)l=r+a,i.push(l);return o-1>l&&i.push("dot"),o>l&&i.push(o),i}console.log(this.pageHandler,"this.pageHandler"),console.log(this.eventName,"eventName");var s=e["default"],i=this,n=i.page||s.page,l=i.pageSize||s.pageSize,r=i.total||s.total,p=i.maxLink>5?i.maxLink:5,o=Math.ceil(r/l);n>o&&(n=o+0);var u=n>1,g=o>n,m=p>o?o:p,c=[],d=a();c.push({"class":u?"":"disabled",page:u?n-1:n,isPager:!0,isPrev:!0,isNext:!1,html:s.prevHtml,srHtml:s.prevSrHtml,ariaLabel:s.prevSrHtml});for(var h={"class":"disabled",page:n,isPager:!1,isPrev:!1,isNext:!0,html:s.dotsHtml},v=0,f=d.length;f>v;v++)t(d[v]);return c.push({"class":g?"":"disabled",page:g?n+1:n,isPager:!0,isPrev:!1,isNext:!0,html:s.nextHtml,srHtml:s.nextSrHtml,ariaLabel:s.nextSrHtml}),c}}})},e});